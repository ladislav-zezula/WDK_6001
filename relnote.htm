<html>

<head>
<!-- saved from url=(0014)about:internet -->
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<base target="_self">

<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
h2
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	line-height:115%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Arial","sans-serif";
	font-weight:bold;
	font-style:italic;}
h3
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	line-height:115%;
	page-break-after:avoid;
	font-size:13.0pt;
	font-family:"Arial","sans-serif";
	font-weight:bold;}
p.MsoCommentText, li.MsoCommentText, div.MsoCommentText
	{mso-style-link:"Comment Text Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;
	font-size:10.0pt;
	font-family:"Calibri","sans-serif";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
p
	{mso-style-link:"Normal \(Web\) Char";
	margin-right:0in;
	margin-left:0in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoCommentSubject, li.MsoCommentSubject, div.MsoCommentSubject
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;
	font-size:10.0pt;
	font-family:"Calibri","sans-serif";
	font-weight:bold;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:.5in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:.5in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
span.NormalWebChar
	{mso-style-name:"Normal \(Web\) Char";
	mso-style-link:"Normal \(Web\)";}
p.Lb1, li.Lb1, div.Lb1
	{mso-style-name:"Lb1\,Bulleted List 1\,bl1";
	mso-style-link:"Bulleted List 1 Char\,bl1 Char\,Lb1 Char";
	margin-top:0in;
	margin-right:5.75pt;
	margin-bottom:3.0pt;
	margin-left:.25in;
	text-indent:-12.0pt;
	line-height:115%;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Arial","sans-serif";}
span.BulletedList1Char
	{mso-style-name:"Bulleted List 1 Char\,bl1 Char\,Lb1 Char";
	mso-style-link:"Lb1\,Bulleted List 1\,bl1";
	font-family:"Arial","sans-serif";}
p.Lp1, li.Lp1, div.Lp1
	{mso-style-name:"Lp1\,Text in List 1\,t1";
	margin-top:0in;
	margin-right:5.75pt;
	margin-bottom:3.0pt;
	margin-left:.25in;
	line-height:115%;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Arial","sans-serif";}
span.HHyperlink
	{mso-style-name:H_Hyperlink;
	color:blue;
	text-decoration:underline;}
p.Text, li.Text, div.Text
	{mso-style-name:"Text\,t\,Normal1\,n";
	margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:2.0pt;
	margin-left:0in;
	line-height:12.0pt;
	font-size:10.0pt;
	font-family:"Arial","sans-serif";
	color:black;}
p.Th, li.Th, div.Th
	{mso-style-name:Th;
	margin-top:0in;
	margin-right:5.75pt;
	margin-bottom:3.0pt;
	margin-left:5.75pt;
	line-height:115%;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Arial","sans-serif";
	font-weight:bold;}
p.Tp, li.Tp, div.Tp
	{mso-style-name:Tp;
	margin-top:0in;
	margin-right:5.75pt;
	margin-bottom:3.0pt;
	margin-left:5.75pt;
	line-height:115%;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Arial","sans-serif";}
p.Tes, li.Tes, div.Tes
	{mso-style-name:Tes;
	margin-top:0in;
	margin-right:5.75pt;
	margin-bottom:10.0pt;
	margin-left:5.75pt;
	line-height:115%;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:6.0pt;
	font-family:"Arial","sans-serif";}
p.NormalVerdana, li.NormalVerdana, div.NormalVerdana
	{mso-style-name:"Normal + Verdana\,10 pt\,Before\:  5 pt\,After\:  5 pt";
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	text-indent:-.25in;
	line-height:115%;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";}
span.CommentTextChar
	{mso-style-name:"Comment Text Char";
	mso-style-link:"Comment Text";
	font-family:"Calibri","sans-serif";}
p.paraheader, li.paraheader, div.paraheader
	{mso-style-name:paraheader;
	margin-right:0in;
	margin-left:0in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
@page Section1
	{size:11.0in 11.0in;
	margin:1.0in 1.5in 1.0in 1.5in;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US link=blue vlink=purple>

<div class=Section1>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;border-collapse:collapse'>
 <tr style='height:.2in'>
  <td width="31%" rowspan=2 valign=top style='width:31.26%;padding:0in 0in 0in 0in;
  height:.2in'>
  <p class=MsoNormal><img width=225 height=59
  src="help/img/image001.png"></p>
  </td>
  <td width="1%" rowspan=2 valign=top style='width:1.6%;padding:0in 0in 0in 0in;
  height:.2in'>
  <p class=MsoNormal><img width=18 height=20
  src="help/img/image002.png"></p>
  </td>
  <td width="8%" valign=top style='width:8.1%;background:black;padding:0in 0in 0in 0in;
  height:.2in'>
  <p class=MsoNormal>&nbsp;</p>
  </td>
  <td width="59%" style='width:59.06%;background:black;padding:0in 0in 0in 0in;
  height:.2in'>
  <p class=MsoNormal align=right style='text-align:right'><b><span
  style='font-size:7.0pt;line-height:115%;font-family:"Verdana","sans-serif";
  color:white'><a href="http://support.microsoft.com/"><span style='color:white;
  text-decoration:none'>Links to the Web: Support</span></a> | <a
  href="http://search.microsoft.com/"><span style='color:white;text-decoration:
  none'>Search</span></a> | <a href="http://www.msdn.microsoft.com/"><span
  style='color:white;text-decoration:none'>MSDN</span></a> | <a
  href="http://www.microsoft.com/whdc/devtools/ddk/default.mspx"><span
  style='color:white;text-decoration:none'>Windows Driver Kits</span></a>&nbsp;</span></b></p>
  </td>
 </tr>
 <tr style='height:22.1pt'>
  <td width="8%" valign=top style='width:8.1%;padding:0in 0in 0in 0in;
  height:22.1pt'>
  <p class=MsoNormal>&nbsp;</p>
  </td>
  <td width="59%" valign=top style='width:59.06%;padding:0in 0in 0in 0in;
  height:22.1pt'>
  <p class=MsoNormal align=right style='text-align:right'><img border=0
  width=112 height=40 src="help/img/image003.png"></p>
  </td>
 </tr>
 <tr style='height:.2in'>
  <td width="100%" colspan=4 style='width:100.0%;background:#336699;padding:
  0in 0in 0in 0in;height:.2in'>
  <p class=MsoNormal><b><span style='font-size:7.0pt;line-height:115%;
  font-family:"Verdana","sans-serif";color:white'>&nbsp;Quick Links: <a
  href="install.htm"><span style='color:white;text-decoration:none'>&nbsp;Installation</span></a>&nbsp;</span></b></p>
  </td>
 </tr>
</table>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b><span style='font-size:14.0pt;line-height:115%;
font-family:"Verdana","sans-serif"'>Windows&nbsp;Driver&nbsp;Kit Release Notes</span></b></p>

<p class=MsoNormal><b><span style='font-size:14.0pt;line-height:115%;
font-family:"Verdana","sans-serif"'>Table of Contents</span></b><span
style='font-size:14.0pt;line-height:115%;font-family:"Verdana","sans-serif"'> </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;line-height:115%;font-family:
"Verdana","sans-serif"'><a href="#InstIssues">Installation Issues</a></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;line-height:115%;font-family:
"Verdana","sans-serif"'>New for Windows Driver Kit SP1 for Windows Server
2008/Vista</span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'><a
href="#WDKSP1WDKBuildEnvironments">WDK Build Environments</a></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'><a href="#DifX">Driver
Installation Frameworks (DifX)</a></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'><a href="#WDF">Windows
Driver Framework (WDF)</a></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'><a href="#PrintSamples">Print
Samples</a></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'><a href="#DSFSamples">Device
Simulation Framework (DSF Samples)</a></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'><a href="#DSF">Device Simulation
Framework (DSF)</a></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'><a
href="#WindowsDebuggerTool">Windows Debugger Tool</a></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'><a
href="#BluetoothVersion21">Bluetooth Version 2.1</a></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;line-height:115%;font-family:
"Verdana","sans-serif"'>New for Windows Driver Kit for Windows Server 2008</span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'><a
href="#WindowsServer2008WDKBuildEnvironments">WDK Build Environments</a></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'><a href="#HeaderVersioning">Header
Versioning</a></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'><a href="#DriverSigning">Driver
Signing</a></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'><a
href="#BuildingWDKSamples">Building WDK Samples</a></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'><a href="#PrintingSamples">Printing
Samples</a></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'><a href="#WDF">WDF</a></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'><a href="#KMDF">KMDF</a></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'><a href="#UMDF">UMDF</a></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'><a href="#Tools">Tools</a></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'><a href="#Misc">Miscellaneous</a></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;line-height:115%;font-family:
"Verdana","sans-serif"'>&nbsp;</span></p>

<p class=MsoNormal><a name=InstIssues><b><span style='font-size:12.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Installation Issues</span></b></a><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'> </span></p>

<p class=MsoNormal><b><span style='font-size:10.0pt;line-height:115%;
font-family:"Verdana","sans-serif"'>Copying the media to a network for
installation</span></b></p>

<p class=MsoNormal><span style='font-size:10.0pt;line-height:115%;font-family:
"Verdana","sans-serif"'>If you copy the WDK media to a network for
installation, the path should not contain any spaces. The setup program will
not work properly if the directory in which it resides has spaces in the path.</span></p>

<div class=MsoNormal align=center style='text-align:center'><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>

<hr size=2 width="100%" align=center>

</span></div>

<p class=MsoNormal><b><span style='font-size:14.0pt;line-height:115%;
font-family:"Verdana","sans-serif"'>What’s New for Windows Driver Kit SP1 for
Windows Server 2008/Vista</span></b></p>

<p class=MsoNormal style='margin-left:.5in'><a name=WDKSP1WDKBuildEnvironments><b><span
style='font-size:12.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>WDK
Build Environments</span></b></a><span style='font-size:10.0pt;line-height:
115%;font-family:"Verdana","sans-serif"'> </span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>This release of the WDK
contains several changes to the WDK Build Environments including:</span></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:1.5in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Updated
wdm.h:</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:2.0in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:"Courier New"'>o<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>ObDereferenceObjectDeferDelete
added to wdm.h</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.5in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Added
Driverstrings.h to …\inc\api</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.5in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>HyperV:
removed winhv.h and updated hvgdk.h</span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:1.5in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Updated
ntifs.h</span></p>

<p class=MsoNormal style='margin-left:.5in'><a name=DifX><b><span
style='font-size:12.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Driver
Installation Frameworks (DifX)</span></b></a><b><span style='font-size:12.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'> </span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>This release of the WDK
contains a bug fix to the Driver Installation Frameworks (DifX) application and
DifX tools that can be run on operating system versions higher than Windows
Vista. </span></p>

<p class=MsoNormal style='margin-left:.5in'><a name=WDK><b><span
style='font-size:12.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Windows
Driver Framework (WDF)</span></b></a><b><span style='font-size:12.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'> </span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>This release of the WDK
contains an updated version of the WDF 1.7 co-installers.</span></p>

<p class=MsoNormal style='margin-left:.5in'><a name=PrintSamples><b><span
style='font-size:12.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Print
Samples</span></b></a><b><span style='font-size:12.0pt;line-height:115%;
font-family:"Verdana","sans-serif"'> </span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>The print samples XPS
Lexmark and XPSDrvSmpl have been updated for this release.</span></p>

<p class=MsoNormal style='margin-left:.5in'><a name=DSFSamples><b><span
style='font-size:12.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Device
Simulation Framework (DSF Samples)</span></b></a><b><span style='font-size:
12.0pt;line-height:115%;font-family:"Verdana","sans-serif"'> </span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>The Device Simulation
Framework (DSF) sample, SoftHIDDevice, has been updated for this release.</span></p>

<p class=MsoNormal style='margin-left:.5in'><a name=DSF><b><span
style='font-size:12.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Device
Simulation Framework (DSF)</span></b></a><b><span style='font-size:12.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'> </span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>This release of the WDK
contains several improvements to DSF and the included samples:</span></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:1.5in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol;color:black'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>I<span
style='color:black'>mproved isochronous performance in the Audio sample</span></span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.5in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol;color:black'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif";
color:black'>Improved stability of device disconnects and re-connects</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.5in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol;color:black'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif";
color:black'>Improved asynchronous and synchronous data handling</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.5in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol;color:black'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif";
color:black'>Improved PnP and Power IRP handling</span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:1.5in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif";
color:black'>Several memory leaks have been fixed</span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif";color:black'>For more
information about DSF, see “</span><a
href="http://go.microsoft.com/fwlink/?LinkID=127773&amp;clcid=0x409"><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Device
Simulation Framework for USB Devices</span></a><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif";color:black'>” on MSDN.</span></p>

<p class=MsoNormal style='margin-left:1.0in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Connecting Multiple
Simulated USB Devices Simultaneously May Result In Some Devices Not Enumerating</span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Simulated USB devices must
be plugged into a controller or hub one at a time, and enumeration must
complete before plugging in any other device.</span></p>

<p class=MsoNormal style='margin-left:1.0in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Workaround:</span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>You must wait for a
simulated device to enumerate before plugging in any additional devices to the
controller or hub.</span></p>

<p class=MsoNormal style='margin-left:.5in'><a name=WindowsDebuggerTool><b><span
style='font-size:12.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Windows
Debugger Tool</span></b></a><b><span style='font-size:12.0pt;line-height:115%;
font-family:"Verdana","sans-serif"'> </span></b></p>

<p class=paraheader style='margin-top:11.0pt;margin-right:0in;margin-bottom:
5.0pt;margin-left:1.0in'><span style='font-size:10.0pt;line-height:115%;
font-family:"Verdana","sans-serif"'>Highlights for this release:</span></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:1.5in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Fixed
driver installer issues in USB/1394 transports</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.5in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>USBView.exe
is now part of the debugger package</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.5in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>CE6
dump processing now works</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.5in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Significant
bug fixes in all areas</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.5in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Removal
of NT4 support</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.5in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Turned
on compiler optimizations for debugger builds</span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:1.5in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Significant
doc updates</span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>For more details about new
debugger features and fixed bugs, please refer to Relnotes.TXT file which is
part of Windows Debugging Tool Installation Path. </span></p>

<p class=MsoNormal style='margin-left:.5in'><a name=BluetoothVersion21><b><span
style='font-size:12.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Bluetooth
Version 2.1</span></b></a><b><span style='font-size:12.0pt;line-height:115%;
font-family:"Verdana","sans-serif"'> </span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Microsoft offers support
for Bluetooth v2.1 with its </span><a
href="http://go.microsoft.com/fwlink/?LinkId=129501"><span style='font-size:
10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Windows Vista
Feature Pack for Wireless</span></a><span style='font-size:10.0pt;line-height:
115%;font-family:"Verdana","sans-serif"'>.</span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>To create your own
applications that use Bluetooth v2.1 pairing methods, you must use the new pairing
APIs available in the Feature Pack. The Feature Pack also offers support for
vendor-specific commands, which enable Bluetooth radio manufacturers to pass
commands to their radios. This reduces the need for filter drivers.</span></p>

<p class=MsoNormal style='margin-left:1.0in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>To write software that
uses these new features</span></b></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:1.5in;text-indent:-.25in'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>In
the build environment, define VISTA_KB942567.</span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:1.5in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Use
load library to reference any new APIs as they are not published in the WDK’s
.lib files.</span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>For more information about
the Feature Pack, refer to the whitepaper on the </span><a
href="http://go.microsoft.com/fwlink/?LinkId=129471"><span style='font-size:
10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Windows Hardware
and Developer Central</span></a><span style='font-size:10.0pt;line-height:115%;
font-family:"Verdana","sans-serif"'> Web site.</span></p>

<div class=MsoNormal align=center style='text-align:center'><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>

<hr size=2 width="100%" align=center>

</span></div>

<p class=MsoNormal><i><span style='font-family:"Verdana","sans-serif"'>The information
in the following section contains release notes originally included in the WDK
for Windows Server2008 and Vista SP1.</span></i></p>

<p class=MsoNormal><b><span style='font-size:14.0pt;line-height:115%;
font-family:"Verdana","sans-serif"'>What’s New for Windows Driver Kit for
Windows Server 2008 </span></b></p>

<p class=MsoNormal style='margin-left:.5in'><a
name=WindowsServer2008WDKBuildEnvironments><b><span style='font-size:12.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>WDK Build Environments</span></b></a><b><span
style='font-size:12.0pt;line-height:115%;font-family:"Verdana","sans-serif"'> </span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>When to Use this version
of the WDK</span></b></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:0in;margin-bottom:5.0pt;
margin-left:1.0in'><span style='font-size:10.0pt;line-height:115%;font-family:
"Verdana","sans-serif"'>Use the WDK build environments in this version of the
WDK for production-level coding.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:0in;margin-bottom:5.0pt;
margin-left:1.0in'><span style='font-size:10.0pt;line-height:115%;font-family:
"Verdana","sans-serif"'>Use the <i>Windows Vista and Windows Server 2008 build
environments</i> in the WDK to build drivers that can run on Windows Server
2008 or Windows Vista. These drivers can use features that were new in Windows
Vista or Windows Server 2008.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:0in;margin-bottom:5.0pt;
margin-left:1.0in'><span style='font-size:10.0pt;line-height:115%;font-family:
"Verdana","sans-serif"'>Use the <i>Windows Server 2003 build environments</i>
in the WDK to build drivers that can run on Windows Server 2008, Windows Vista,
or Windows Server 2003.&nbsp; These drivers can use features that were new in
Windows Server 2003.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:0in;margin-bottom:5.0pt;
margin-left:1.0in'><span style='font-size:10.0pt;line-height:115%;font-family:
"Verdana","sans-serif"'>Use the <i>Windows XP build environments</i> in the WDK
to build drivers that can run on Windows Server 2008, Windows Vista, Windows
Server 2003, or Windows XP.&nbsp; These drivers can use features that were new
in Windows XP. The Windows XP build environments in the WDK contain minor
updates to the Windows DDK that shipped with Windows XP Service Pack 1 (SP1)
and with Windows XP.</span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:0in;margin-bottom:5.0pt;
margin-left:1.0in'><span style='font-size:10.0pt;line-height:115%;font-family:
"Verdana","sans-serif"'>Use the <i>Windows 2000 build environments</i> in the
WDK to build drivers that can run on Windows Server 2008, Windows Vista,
Windows Server 2003, Windows XP, or Microsoft&nbsp;Windows 2000. These drivers
can use features that were new in Windows 2000. The Windows 2000 build
environment in the WDK includes updated headers and libraries for Windows 2000
Service Pack 4 (SP4).</span></p>

<p class=MsoNormal style='margin-left:1.0in'><b><i><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Ntddk.h</span></i></b><b><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>
and <i>Wdm.h</i> Restructured for Windows Vista</span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>The Windows Vista version
of <i>Ntddk.h</i> now includes <i>Wdm.h</i> (instead of duplicating information
that is contained in <i>Wdm.h</i>). The changes to the format of header files <i>should
not affect</i> which header files you include or how you write your driver. Make
sure to file a bug report if you discover any inconsistencies that relocation
causes.</span></p>

<p class=MsoNormal style='margin-left:1.0in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>WDK Directory Structure</span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Drivers should continue to
reference <i>Ntddk.h</i> or <i>Wdm.h</i> by specifying &quot;#include &quot;.
The build environment automatically sets the appropriate include and library
file paths. Drivers might find that some header files have been moved from
their technology-specific directories (such as \network\inc) to a higher-level
WDK directory (such as \inc\wxp). Because these files moved to higher-level
directories, you do not have to specify the specific include path for these
files. </span></p>

<p class=MsoNormal style='margin-left:1.0in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Changes to Support
Conditional Compilation Based on Build Environment</span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>The WDK now includes the
DDK_TARGET_OS environment variable to enable conditional testing in the SOURCES
file and determine if a driver is being built in the Windows Vista, Windows
Server&nbsp;2003, Windows&nbsp;XP, or Windows&nbsp;2000 build environment. You
can set this variable to &quot;WinLH&quot;, &quot;WinNET&quot;,
&quot;WinXP&quot;, or &quot;Win2K&quot;, respectively. For more information
about this variable, see &quot;DDK_TARGET_OS&quot; in the index of the WDK
documentation.</span></p>

<p class=MsoNormal style='margin-left:1.0in'><b><i><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Winable.h</span></i></b><b><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>
Removed from the WDK</span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>The <i>Winable.h</i>
header file has been removed from the WDK. You can now find the declarations
from this file in <i>Winuser.h</i>.</span></p>

<p class=MsoNormal style='margin-left:1.0in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Workaround:</span></b><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>&nbsp;If
your project uses <i>Winable.h</i>, start using <i>Winuser.h</i> instead.</span></p>

<p class=MsoNormal style='margin-left:1.0in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>No Build Environment Icons
to Build Free or Checked x64 Drivers for Windows XP</span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>The Windows XP Build Environments
do not provide icons for either a &quot;Windows XP x64 Free Build
Environment&quot; or &quot;Windows XP x64 Checked Build Environment&quot; to
build drivers for Windows XP.  Instead, use the Windows Server 2003 x64 build
environment icons to build free or checked x64 drivers for Windows XP.</span></p>

<p class=MsoNormal style='margin-left:.5in'><a name=HeaderVersioning><b><span
style='font-size:12.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Header
Versioning</span></b></a><b><span style='font-size:12.0pt;line-height:115%;
font-family:"Verdana","sans-serif"'> </span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Header Versioning
Activated</span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>This release of the WDK
uses a versioned header system. The overall effect of this system is that the
WDK no longer contains operating system-specific include directories under
\inc. The WDK build environments are configured for this change, but customized
build environments that have hard-coded include paths might break.</span></p>

<p class=MsoNormal style='margin-left:1.0in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Workaround:</span></b><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>&nbsp;Use
the WDK build environments, or update customized build environments
appropriately.</span></p>

<p class=MsoNormal style='margin-left:1.0in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Deprecations and Default
Build Environment Settings</span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>By default, the WDK build
environments produce warnings for deprecated functions.&nbsp;Some developers
have reported that they get errors for deprecated functions.&nbsp;This is
probably due to the compiler flags being reset in the project's SOURCES file.</span></p>

<p class=MsoNormal style='margin-left:1.0in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Workaround:</span></b><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>&nbsp;Remove
the line &quot;MSC_WARNING_LEVEL=/W3 /WX&quot; from the SOURCES file. </span></p>

<p class=MsoNormal style='margin-left:.5in'><a name=DriverSigning><b><span
style='font-size:12.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Driver
Signing</span></b></a><b><span style='font-size:12.0pt;line-height:115%;
font-family:"Verdana","sans-serif"'> </span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Tools to Support Driver
Signing</span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Windows Vista and Windows
Server 2008 place a greater emphasis on signed drivers. The WDK now includes tools
that assist with driver signing during the development and test phases of
driver development. To install the tools, during WDK setup, select the WDK
Build Environment, and Driver Samples.  Under the Driver Development Kit,
install the Build Environment option.</span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>All the tools are used at
the command line and are available from all the WDK Build Environments. You can
find the tools in the \bin\selfsign directory. You can read more about how to
use these tools in the WDK documentation under &quot;Device Installation\Design
Guide\Device Installation Overview\Driver Signing (Windows Vista)&quot;.</span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>When using <i>Inf2cat.exe</i>
to create catalog files for x64-based platforms, the INF file must contain a
Manufacturer and Model section. For information about how to add these sections
to an INF file, look in the WDK documentation in the topic: <b>INF File
Platform Extensions and x64-Based Systems.</b> You can also find the
information on </span><a
href="http://go.microsoft.com/fwlink/?LinkID=85719&amp;clcid=0x409"><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>MSDN</span></a><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>. For
general INF file information, see </span><a
href="http://go.microsoft.com/fwlink/?LinkID=85721&amp;clcid=0x409"><b><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Creating
an INF file</span></b></a><span style='font-size:10.0pt;line-height:115%;
font-family:"Verdana","sans-serif"'>.</span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>For an example of an INF
file with the correct sections, look at the <i>Toastpkg.inf</i> file, found in
the WDK under …\src\general\\toaster\toastpkg\toastcd.</span></p>

<p class=MsoNormal style='margin-left:1.0in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>New Version of INF2CAT
Available</span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>The version of <i>INF2CAT.</i>exe
included in the WDK might not run on Windows XP x64 Edition in some
installations. A new version of INF2CAT that corrects the problem is available
for download from the </span><a
href="http://go.microsoft.com/fwlink/?LinkID=85718&amp;clcid=0x409"><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Windows
Quality Labs Web site</span></a><span style='font-size:10.0pt;line-height:115%;
font-family:"Verdana","sans-serif"'>. </span></p>

<p class=MsoNormal style='margin-left:1.0in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Driver Signing Enforcement
on x64 Windows Vista and Windows Server 2008</span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Windows Vista and Windows
Server 2008 enforce that all kernel-mode binaries, including drivers for x64-based
platforms, must have a digital signature. Any kernel-mode code must be signed
with a valid certificate to load.</span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Information about driver
signing requirements for Windows Vista is available on the </span><a
href="http://www.microsoft.com/whdc/default.mspx"><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>WHDC</span></a><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'> Web
site. A detailed </span><a href="http://go.microsoft.com/fwlink/?LinkId=129409"><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>walkthrough</span></a><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>
document is available to help you sign your drivers.</span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>During development and
testing of kernel-mode drivers, the following options are available to load
kernel-mode code that is not signed for public release: </span></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:1.5in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span style='font-size:10.0pt;line-height:115%;font-family:
"Verdana","sans-serif"'>Attach a kernel debugger</span></b><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>.
Attaching an active kernel debugger to the target computer allows the driver to
load on Windows Vista. </span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.5in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span style='font-size:10.0pt;line-height:115%;font-family:
"Verdana","sans-serif"'>Use an F8 boot option</span></b><span style='font-size:
10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>. An F8 boot option
introduced with Windows Vista—“Disable Driver Signature Enforcement”—is
available to disable the kernel-signing enforcement only for the current boot
session. This setting does not persist across boot sessions. </span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:1.5in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span style='font-size:10.0pt;line-height:115%;font-family:
"Verdana","sans-serif"'>Use a test certificate</span></b><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>.
Follow the instructions in the WDK documentation to create a test certificate
and sign the driver package. On the test system, set the boot configuration to
enable test certificates. Windows Vista includes a command-line tool, BCDedit,
which can be used to set this option. To use BCDedit, make sure your system has
Elevated User or Administrator privileges set.</span> </p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>The syntax to enable test
signing by using BDCedit at the command prompt: </span></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:1.5in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Bcdedit.exe
–set testsigning ON ---- //enable test certificates </span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.5in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Bcdedit.exe
–set testsigning OFF ---- //disable test certificates </span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:1.5in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Bcdedit.exe
–set {System ID GUID} testsigning ON ---- //enable test certificates on an
alternate OS </span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>You must reboot after you
issue the command. When testsigning is successfully enabled, the four corners
of the desktop will display the words &quot;Test Mode.&quot; </span></p>

<p class=MsoNormal style='margin-left:.5in'><a name=BuildingWDKSamples><b><span
style='font-size:12.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Building
WDK Samples</span></b></a><b><span style='font-size:12.0pt;line-height:115%;
font-family:"Verdana","sans-serif"'> </span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Some samples that ship
with the WDK may not work in all versions of Windows. Such samples will not
build in older versions of Windows.</span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>If you build the entire
WDK, samples that are not supported in the active build environment will not be
built because of one (or more) of the following issues:</span></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:1.5in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Changes
to the driver's SOURCES file.</span> </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.5in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Changes
to one of the driver's MAKEFILE files.</span> </p>

<p class=MsoListParagraphCxSpLast style='margin-left:1.5in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Changes
to a DIRS file.</span> </p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>As a result, the
&quot;correct&quot; set of drivers is always built when you open a Command
Prompt window for a given build environment and enter the <b>build -cZ</b>
command from the WDK base directory.</span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>When you open a Command
Prompt window for a given build environment, you can change directories to the
directory of a driver that uses features or functionality that are not
supported in that environment. If you attempt to build such a driver in an
unsupported environment, and if the driver was blocked from building by means
of a DIRS file, the build command fails with a variety of errors, warnings, or
both. This behavior is expected.</span></p>

<p class=MsoNormal style='margin-left:1.0in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Expected Warnings -
Building Samples in Windows&nbsp;XP and Windows&nbsp;2000 Environments</span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>The Windows
Server&nbsp;2003, Windows&nbsp;XP, and Windows&nbsp;2000 build environments do
not support some samples in the WDK. These samples now generate the following
warning (which will appear in the build warning log) when they are built in a
non-supported build environment:</span></p>

<p class=MsoNormal style='margin-left:1.0in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>BUILDMSG: Warning : The
sample [path to sample] is not valid for the current OS target</span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Multiple Instances of the
STI Driver Sample Cannot Be Installed</span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>The Still Image (STI)
driver sample contains two parts:</span></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:1.5in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='font-size:10.0pt;line-height:115%;font-family:
"Verdana","sans-serif"'>SampUSD</span></i><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'> is an STI user-mode
minidriver. This sample shows how to implement events in a minidriver. Events
are hardware-initiated, and usually caused when the user pushes a button on the
device. This sample uses a test file to simulate hardware events so that you do
not have to install hardware. When the test file or its size changes, the
minidriver simulates a hardware event. </span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:1.5in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='font-size:10.0pt;line-height:115%;font-family:
"Verdana","sans-serif"'>SampCPL</span></i><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'> is an STI control panel
extension that is located in \src\wdm\wia\Sampcpl. This example shows how to
add a tab to an STI device's Known Issues control panel.&nbsp; </span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>You must build both parts
to run the STI driver sample. Only one instance of the STI driver sample should
be installed because multiple instances are not supported. This sample STI
minidriver will not generate any events.</span></p>

<p class=MsoNormal style='margin-left:1.0in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Workaround:</span></b><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>&nbsp;Only
one instance of the STI driver sample should be installed.</span></p>

<p class=MsoNormal style='margin-left:1.0in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Sample STI Driver Will Not
Generate Any Events</span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Workaround:</span></b><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>&nbsp;See
the preceding STI sample driver description.</span></p>

<p class=MsoNormal style='margin-left:.5in'><a name=PrintingSamples><b><span
style='font-size:12.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Printing
Samples</span></b></a><b><span style='font-size:12.0pt;line-height:115%;
font-family:"Verdana","sans-serif"'> </span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Printing - Known Issues
with the WIA Monster Driver Sample</span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>The Extended WIA Monster
Driver sample provided in the WDK will not work in WIA 2.0 applications that
use the WIA 2.0 Common Scan Dialog if film scanning is the source of the scan.
The WIA 2.0 Common Scan Dialog requires that WIA_IPS_FILM_SCAN_MODE should have
the value of type WIA_PROP_LIST where as the sample sets it to WIA_PROP_NONE.</span></p>

<p class=MsoNormal style='margin-left:1.0in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Workaround:</span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>The sample should be
modified to set the value of WIA_IPS_FILM_SCAN_MODE to WIA_PROP_LIST for it to
work with WIA 2.0 applications that use the WIA 2.0 Common Scan dialog.</span></p>

<p class=MsoNormal style='margin-left:.5in'><a name=WDF><b><span
style='font-size:12.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>WDF</span></b></a><b><span
style='font-size:12.0pt;line-height:115%;font-family:"Verdana","sans-serif"'> </span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>The version number of
Windows Driver Foundation (user-mode and kernel-mode) for Windows Server 2008
or Windows Vista SP1 has been changed to 1.7 to account for various bug fixes
and minor backwards compatible changes. The WDK samples for UMDF and KMDF now
require the use of the 1.7 co-installers (WudfUpdate_01007.dll and
WdfCoinstaller01007.dll respectively).</span></p>

<p class=MsoNormal style='margin-left:.5in'><a name=KMDF><b><span
style='font-size:12.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>KMDF</span></b></a><b><span
style='font-size:12.0pt;line-height:115%;font-family:"Verdana","sans-serif"'> </span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>(Also see the general WDF
notes, above.)</span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>The following are known
issues in this version of the KernelMode Driver Framework. </span></p>

<p class=MsoNormal style='margin-left:1.5in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Issues:</span></b></p>

<p class=MsoNormal style='margin-left:1.5in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>ETW Tracing</span></b></p>

<p class=MsoNormal style='margin-left:1.5in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>On Windows 2000, ETW
tracing is not supported for miniport drivers. </span><span style='font-family:
"Verdana","sans-serif"'>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:1.5in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>IFR Display</span></b></p>

<p class=MsoNormal style='margin-left:1.5in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>The KMDF In-flight
Recorder (IFR) may display wrong function names in the prefix of some log
entries. To workaround this issue, reformat the log by using a trace prefix
format string that does not display function names, for example &quot;%7!u!:
%2!-20.20s! -- &quot;. This can be done by using the debugger command:<br>
-- !wdfsettraceprefix [trace prefix string]<br>
-- KMDF trace file Wdf01005.tmf is located in %BASEDIR%\tools\tracing\i386\<br>
<br>
</span></p>

<p class=MsoNormal style='margin-left:1.5in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>KMDF-Based Drivers on
Checked Builds </span></b></p>

<p class=MsoNormal style='margin-left:1.5in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>You cannot install a
checked build of the KMDF runtime (WdfCoInstaller01005_chk.dll) on a free build
of the operating system. Similarly, a free build of the KMDF runtime cannot be
installed on a checked build of the operating system. To work around this
issue, you can use a partial checked build and install the driver as follows: </span></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:2.0in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Install
the partial checked build over a free build of the system, following the
guidelines in the &quot;Installing Just the Checked Operating System and
HAL&quot; topic in the WDK documentation.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:2.0in;text-indent:-.25in'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Boot
the system in the free build. </span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:2.0in;text-indent:-.25in'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Install
the KMDF-based driver. </span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:2.0in;text-indent:-.25in'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Reboot
the system in the partial checked build. </span></p>

<p class=MsoNormal style='margin-left:1.5in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Or after your driver is
installed with free version of the KMDF runtime (wdf01000.sys and wdfldr.sys),
you can replace them with the checked version of the files provided with the
kit. </span><span style='font-family:"Verdana","sans-serif"'>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:1.5in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>OSRUSBFX2 Driver</span></b></p>

<p class=MsoNormal style='margin-left:1.5in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>On Windows 2000, a USB
device cannot be reset if there are pending transactions. The OSRUSB sample
provides an IOCTL interface to reset the device. This driver configures a
continuous reader on the interrupt pipe, which is in effect a pending transfer.
Therefore, if you send a reset-device request, the request will be stuck in the
USB until the pending transactions have been canceled. To work around this
issue, the driver should stop the continuous reader (by calling
WdfIoTargetStop) before resetting the device, and restart the continuous reader
(by calling WdfIoTargetStart) after the request completes.</span></p>

<p class=MsoNormal style='margin-left:1.5in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Serial Driver</span></b></p>

<p class=MsoNormal style='margin-left:1.5in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>If the legacy Serial.sys
driver (the in-box driver) is the power policy owner for the serial device
stack, the stack cannot include a KMDF-based serial filter driver. You can
resolve this issue by replacing the legacy driver with the serial driver
provided in the KMDF samples.</span></p>

<p class=MsoNormal style='margin-left:1.5in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Work Items</span></b></p>

<p class=MsoNormal style='margin-left:1.5in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>A WDFWORKITEM whose parent
is a WDFFILEOBJECT (set by the ParentObject field in the WDF_OBJECT_ATTRIBUTES
structure) cannot use the framework's automatic synchronization. Attempting to
create such a work item causes WdfWorkItemCreate to fail with the error
STATUS_INVALID_DEVICE_REQUEST. By default, WDF_WORKITEM_CONFIG_INIT() sets the
AutomaticSerialization flag to TRUE. Consequently, to prevent this problem, the
driver must set the value of AutomaticSerialization to FALSE in the
WDF_WORKITEM_CONFIG structure as follows:<br>
-- WDF_WORKITEM_CONFIG config;<br>
-- WDF_WORKITEM_CONFIG_INIT(&amp;config);<br>
-- config.AutomaticSerialization = FALSE;&nbsp; </span></p>

<p class=MsoNormal style='margin-left:.5in'><a name=UMDF><b><span
style='font-size:12.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>UMDF</span></b></a><b><span
style='font-size:12.0pt;line-height:115%;font-family:"Verdana","sans-serif"'> </span></b></p>

<p class=MsoNormal style='margin-left:1.5in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'> (Also see the general WDF
notes, above.)</span></p>

<p class=MsoNormal style='margin-left:1.5in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>The following are issues
fixed in this version of the User-Mode Driver Framework. </span></p>

<p class=MsoNormal style='margin-left:1.5in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Samples:</span></b></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:2.0in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Added
SocketEcho sample.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:2.0in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Bug
fixes to the Echo sample.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:2.0in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>USB
samples now show how to use the WinUsbCoinstaller.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:2.0in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Special
version of the FX2 sample for the Orwick &amp; Smith WDF book.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:2.0in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>FX2
sample now shows proper use of impersonation.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:2.0in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>FX2
sample now acknowledges pending I/O at transition to low power state.  </span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:2.0in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>1394
UMDF/KMDF hybrid sample now available</span>.</p>

<p class=MsoNormal style='margin-left:1.5in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Issues Fixed:</span></b></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:2.0in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Dx
and Sx power IRPs are now handled in the correct order.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:2.0in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>D3
IRP now completes within the required time window.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:2.0in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>A
bug in impersonation was fixed, which prevented some Sideshow devices from
operating correctly.</span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:2.0in;text-indent:-.25in'><span
style='font-size:10.0pt;line-height:115%;font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>IRPs
are now forwarded down the stack when restarting.</span></p>

<p class=MsoNormal style='margin-left:.5in'><a name=Tools><b><span
style='font-size:12.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Tools</span></b></a><b><span
style='font-size:12.0pt;line-height:115%;font-family:"Verdana","sans-serif"'> </span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>TraceView</span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>When using TraceView to
trace a driver, after TraceView sets up the window, it fails with the error:
Cannot start tracing session (StartTrace failed): Access is denied.</span></p>

<p class=MsoNormal style='margin-left:1.0in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Workaround:</span></b><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>&nbsp;Use
elevated command windows to start TraceView.</span></p>

<p class=MsoNormal style='margin-left:.5in'><a name=Misc><b><span
style='font-size:12.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Miscellaneous</span></b></a><b><span
style='font-size:12.0pt;line-height:115%;font-family:"Verdana","sans-serif"'> </span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Active Perl</span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>For more information about
ActiveState Corporation's Active Perl, see the </span><a
href="http://go.microsoft.com/fwlink/?linkid=10003&amp;clcid=0x409"><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>ActiveState
Web site</span></a><span style='font-size:10.0pt;line-height:115%;font-family:
"Verdana","sans-serif"'>.</span></p>

<p class=MsoNormal style='margin-left:1.0in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>WpdHelloWorldDriver Memory
Leak</span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>The declaration of a
pointer to the IUnknown interface in the driver.cpp module of the
WpdHelloWorldDriver needs to be revised as described in the following
workaround.</span></p>

<p class=MsoNormal style='margin-left:1.0in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Workaround:</span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Existing code:</span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Courier New"'>//</span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Courier New"'>// Create queue callback object</span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Courier New"'>//</span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Courier New"'>IUnknown *pIUnknown = NULL;</span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Courier New"'>if(S_OK == hr)</span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Courier New"'>{</span></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:.5in'><span
style='font-size:10.0pt;line-height:115%;font-family:"Courier New"'>hr =
CQueue::CreateInstance(&amp;pIUnknown);</span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Courier New"'>}</span></p>

<p class=MsoNormal style='margin-left:1.0in'><b><span style='font-size:10.0pt;
line-height:115%;font-family:"Verdana","sans-serif"'>Revised code:</span></b></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Courier New"'>//</span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Courier New"'>// Create queue callback object</span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Courier New"'>//</span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Courier New"'>CComPtr&lt;IUnknown&gt; pIUnknown;</span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Courier New"'>if(S_OK == hr)</span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Courier New"'>{</span></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:.5in'><span
style='font-size:10.0pt;line-height:115%;font-family:"Courier New"'>hr =
CQueue::CreateInstance(&amp;pIUnknown);</span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:10.0pt;
line-height:115%;font-family:"Courier New"'>}</span></p>

<div class=MsoNormal align=center style='text-align:center'><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>

<hr size=2 width="100%" align=center>

</span></div>

<p class=MsoNormal><span style='font-size:10.0pt;line-height:115%;font-family:
"Verdana","sans-serif"'>Copyright © 2001-2007 Microsoft Corporation. All rights
reserved. </span></p>

<p class=MsoNormal><span style='font-size:10.0pt;line-height:115%;font-family:
"Verdana","sans-serif"'>Version: </span><span
style='font-size:10.0pt;line-height:115%;font-family:"Verdana","sans-serif"'>Friday,
October 03, 2008</span><span style='font-size:10.0pt;line-height:115%;
font-family:"Verdana","sans-serif"'> </span></p>

</div>

</body>

</html>
