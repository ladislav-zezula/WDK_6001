<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 11">
<meta name=Originator content="Microsoft Word 11">
<link rel=File-List href="fileio_files/filelist.xml">
<title>NONPNP</title>
<!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:Zoom>BestFit</w:Zoom>
  <w:SpellingState>Clean</w:SpellingState>
  <w:GrammarState>Clean</w:GrammarState>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="156">
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
    {font-family:Helvetica;
    panose-1:2 11 6 4 2 2 2 2 2 4;
    mso-font-charset:0;
    mso-generic-font-family:swiss;
    mso-font-format:other;
    mso-font-pitch:variable;
    mso-font-signature:3 0 0 0 1 0;}
@font-face
    {font-family:Verdana;
    panose-1:2 11 6 4 3 5 4 4 2 4;
    mso-font-charset:0;
    mso-generic-font-family:swiss;
    mso-font-pitch:variable;
    mso-font-signature:536871559 0 0 0 415 0;}
@font-face
    {font-family:"MS Sans Serif";
    panose-1:0 0 0 0 0 0 0 0 0 0;
    mso-font-alt:"Times New Roman";
    mso-font-charset:0;
    mso-generic-font-family:roman;
    mso-font-format:other;
    mso-font-pitch:auto;
    mso-font-signature:0 0 0 0 0 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
    {mso-style-parent:"";
    margin:0in;
    margin-bottom:.0001pt;
    mso-pagination:widow-orphan;
    font-size:12.0pt;
    font-family:"Times New Roman";
    mso-fareast-font-family:"Times New Roman";
    color:black;}
h2
    {mso-margin-top-alt:auto;
    margin-right:0in;
    mso-margin-bottom-alt:auto;
    margin-left:0in;
    mso-pagination:widow-orphan;
    mso-outline-level:2;
    font-size:18.0pt;
    font-family:"Times New Roman";
    color:black;
    font-weight:bold;}
h3
    {mso-margin-top-alt:auto;
    margin-right:0in;
    mso-margin-bottom-alt:auto;
    margin-left:0in;
    mso-pagination:widow-orphan;
    mso-outline-level:3;
    font-size:13.5pt;
    font-family:"Times New Roman";
    color:black;
    font-weight:bold;}
h4
    {mso-margin-top-alt:auto;
    margin-right:0in;
    mso-margin-bottom-alt:auto;
    margin-left:0in;
    mso-pagination:widow-orphan;
    mso-outline-level:4;
    font-size:12.0pt;
    font-family:"Times New Roman";
    color:black;
    font-weight:bold;}
a:link, span.MsoHyperlink
    {color:blue;
    text-decoration:underline;
    text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
    {color:purple;
    text-decoration:underline;
    text-underline:single;}
p
    {mso-margin-top-alt:auto;
    margin-right:0in;
    mso-margin-bottom-alt:auto;
    margin-left:0in;
    mso-pagination:widow-orphan;
    font-size:12.0pt;
    font-family:"Times New Roman";
    mso-fareast-font-family:"Times New Roman";
    color:black;}
pre
    {margin:0in;
    margin-bottom:.0001pt;
    mso-pagination:widow-orphan;
    tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
    font-size:10.0pt;
    font-family:"Courier New";
    mso-fareast-font-family:"Times New Roman";
    color:black;}
span.SpellE
    {mso-style-name:"";
    mso-spl-e:yes;}
span.GramE
    {mso-style-name:"";
    mso-gram-e:yes;}
@page Section1
    {size:8.5in 11.0in;
    margin:1.0in 1.25in 1.0in 1.25in;
    mso-header-margin:.5in;
    mso-footer-margin:.5in;
    mso-paper-source:0;}
div.Section1
    {page:Section1;}
 /* List Definitions */
 @list l0
    {mso-list-id:133915266;
    mso-list-type:hybrid;
    mso-list-template-ids:-1042124088 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l0:level1
    {mso-level-number-format:bullet;
    mso-level-text:\F0B7;
    mso-level-tab-stop:.25in;
    mso-level-number-position:left;
    margin-left:.25in;
    text-indent:-.25in;
    font-family:Symbol;}
@list l0:level2
    {mso-level-tab-stop:1.0in;
    mso-level-number-position:left;
    text-indent:-.25in;}
@list l0:level3
    {mso-level-tab-stop:1.5in;
    mso-level-number-position:left;
    text-indent:-.25in;}
@list l0:level4
    {mso-level-tab-stop:2.0in;
    mso-level-number-position:left;
    text-indent:-.25in;}
@list l0:level5
    {mso-level-tab-stop:2.5in;
    mso-level-number-position:left;
    text-indent:-.25in;}
@list l0:level6
    {mso-level-tab-stop:3.0in;
    mso-level-number-position:left;
    text-indent:-.25in;}
@list l0:level7
    {mso-level-tab-stop:3.5in;
    mso-level-number-position:left;
    text-indent:-.25in;}
@list l0:level8
    {mso-level-tab-stop:4.0in;
    mso-level-number-position:left;
    text-indent:-.25in;}
@list l0:level9
    {mso-level-tab-stop:4.5in;
    mso-level-number-position:left;
    text-indent:-.25in;}
ol
    {margin-bottom:0in;}
ul
    {margin-bottom:0in;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
    {mso-style-name:"Table Normal";
    mso-tstyle-rowband-size:0;
    mso-tstyle-colband-size:0;
    mso-style-noshow:yes;
    mso-style-parent:"";
    mso-padding-alt:0in 5.4pt 0in 5.4pt;
    mso-para-margin:0in;
    mso-para-margin-bottom:.0001pt;
    mso-pagination:widow-orphan;
    font-size:10.0pt;
    font-family:"Times New Roman";
    mso-ansi-language:#0400;
    mso-fareast-language:#0400;
    mso-bidi-language:#0400;}
table.MsoTableGrid
    {mso-style-name:"Table Grid";
    mso-tstyle-rowband-size:0;
    mso-tstyle-colband-size:0;
    border:solid windowtext 1.0pt;
    mso-border-alt:solid windowtext .5pt;
    mso-padding-alt:0in 5.4pt 0in 5.4pt;
    mso-border-insideh:.5pt solid windowtext;
    mso-border-insidev:.5pt solid windowtext;
    mso-para-margin:0in;
    mso-para-margin-bottom:.0001pt;
    mso-pagination:widow-orphan;
    font-size:10.0pt;
    font-family:"Times New Roman";
    mso-ansi-language:#0400;
    mso-fareast-language:#0400;
    mso-bidi-language:#0400;}
</style>
<![endif]-->
<meta name=Template content="C:\PROGRAM FILES\MICROSOFT OFFICE\OFFICE\html.dot">
<!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="3074"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body bgcolor=white lang=EN-US link=blue vlink=purple style='tab-interval:.5in'
leftmargin=8>

<div class=Section1>

<h2><span style='font-family:Verdana'>NONPNP<o:p></o:p></span></h2>

<h3><span style='font-family:Verdana'>SUMMARY<o:p></o:p></span></h3>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:Verdana;mso-bidi-font-family:Helvetica;
color:windowtext'>This sample is primarily meant to demonstrate how to write a NON-PNP
driver using Framework. It also illustrates several other important framework
interfaces. Following table gives a typical usage scenario and summarizes all
the features used in this sample.<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:Verdana;mso-bidi-font-family:Helvetica;
color:windowtext'><o:p>&nbsp;</o:p></span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:0in 5.4pt 0in 5.4pt;mso-border-insideh:
 .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=311 valign=top style='width:233.6pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:10.0pt;font-family:
  Verdana;mso-bidi-font-family:Helvetica;color:windowtext'>Scenario<o:p></o:p></span></b></p>
  </td>
  <td width=336 valign=top style='width:3.5in;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
  style='font-size:10.0pt;font-family:Verdana;mso-bidi-font-family:Helvetica;
  color:windowtext'>Features Demonstrated<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes'>
  <td width=311 valign=top style='width:233.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
  style='font-size:10.0pt;font-family:Verdana;mso-bidi-font-family:Helvetica;
  color:windowtext'>This sample would be useful for writing driver that doesn’t
  interact with any hardware. Typically, such drivers are written to provide
  some kernel-level services to a user application. These drivers are dynamically
  loaded by the application when it’s run and unloaded when it exits. <o:p></o:p></span></p>
  <p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
  style='font-size:10.0pt;font-family:Verdana;mso-bidi-font-family:Helvetica;
  color:windowtext'>(<span class=SpellE>E.g</span>: <span class=SpellE>FileMon</span>,
  <span class=SpellE>Regmon</span>, <span class=SpellE>DevicTree</span> are
  examples of tools that use this type of driver)<o:p></o:p></span></p>
  </td>
  <td width=336 valign=top style='width:3.5in;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-left:.25in;text-indent:-.25in;mso-list:l0 level1 lfo1;
  tab-stops:list .25in;mso-layout-grid-align:none;text-autospace:none'><![if !supportLists]><span
  style='font-size:10.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
  mso-bidi-font-family:Symbol;color:windowtext'><span style='mso-list:Ignore'>·<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span></span><![endif]><span style='font-size:10.0pt;font-family:
  Verdana;mso-bidi-font-family:Helvetica;color:windowtext'>How to Write a NON
  PNP driver<o:p></o:p></span></p>
  <p class=MsoNormal style='margin-left:.25in;text-indent:-.25in;mso-list:l0 level1 lfo1;
  tab-stops:list .25in;mso-layout-grid-align:none;text-autospace:none'><![if !supportLists]><span
  style='font-size:10.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
  mso-bidi-font-family:Symbol;color:windowtext'><span style='mso-list:Ignore'>·<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span></span><![endif]><span style='font-size:10.0pt;font-family:
  Verdana;mso-bidi-font-family:Helvetica;color:windowtext'>How to register <span
  class=SpellE>EvtPreProcessCallback</span> to handle requests in the context
  of the calling thread<o:p></o:p></span></p>
  <p class=MsoNormal style='margin-left:.25in;text-indent:-.25in;mso-list:l0 level1 lfo1;
  tab-stops:list .25in;mso-layout-grid-align:none;text-autospace:none'><![if !supportLists]><span
  style='font-size:10.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
  mso-bidi-font-family:Symbol;color:windowtext'><span style='mso-list:Ignore'>·<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span></span><![endif]><span style='font-size:10.0pt;font-family:
  Verdana;mso-bidi-font-family:Helvetica;color:windowtext'>Show how to probe
  and lock buffers in the preprocess callback fro METHOD_NEITHER IOCTL requests
  <o:p></o:p></span></p>
  <p class=MsoNormal style='margin-left:.25in;text-indent:-.25in;mso-list:l0 level1 lfo1;
  tab-stops:list .25in;mso-layout-grid-align:none;text-autospace:none'><![if !supportLists]><span
  style='font-size:10.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
  mso-bidi-font-family:Symbol;color:windowtext'><span style='mso-list:Ignore'>·<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span></span><![endif]><span style='font-size:10.0pt;font-family:
  Verdana;mso-bidi-font-family:Helvetica;color:windowtext'>Also show how to handle
  other 3 types of <span class=SpellE>IOCTLs</span> (METHOD_BUFFERED,
  METHOD_IN_DIRECT &amp; METHOD_OUT_DIRECT)<o:p></o:p></span></p>
  <p class=MsoNormal style='margin-left:.25in;text-indent:-.25in;mso-list:l0 level1 lfo1;
  tab-stops:list .25in;mso-layout-grid-align:none;text-autospace:none'><![if !supportLists]><span
  style='font-size:10.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
  mso-bidi-font-family:Symbol;color:windowtext'><span style='mso-list:Ignore'>·<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span></span><![endif]><span style='font-size:10.0pt;font-family:
  Verdana;mso-bidi-font-family:Helvetica;color:windowtext'>How to open a file
  in Kernel-mode and Read &amp; Write to it<o:p></o:p></span></p>
  <p class=MsoNormal style='margin-left:.25in;text-indent:-.25in;mso-list:l0 level1 lfo1;
  tab-stops:list .25in;mso-layout-grid-align:none;text-autospace:none'><![if !supportLists]><span
  style='font-size:10.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
  mso-bidi-font-family:Symbol;color:windowtext'><span style='mso-list:Ignore'>·<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span></span><![endif]><span style='font-size:10.0pt;font-family:
  Verdana;mso-bidi-font-family:Helvetica;color:windowtext'>Finally show event
  tracing and dumping variable length data in the <span class=SpellE>tracelog</span>
  using HEXDUMP format.<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p><span style='font-size:10.0pt;font-family:Verdana'>The sample is accompanied
by a simple multithreaded Win32 console application to test the driver.<o:p></o:p></span></p>

<p><span style='font-size:10.0pt;font-family:Verdana'>This sample is adapted
from the original IOCTL sample present in DDK (<span class=SpellE>src\general\ioctl</span>).<o:p></o:p></span></p>

<p><span style='font-size:10.0pt;font-family:Verdana'>The building and
installation instructions given here apply to Windows® 2000, Windows® XP
systems and Windows Server 2003.<o:p></o:p></span></p>

<p><span style='font-size:10.0pt;font-family:Verdana'>Disclaimer: This is a
minimal driver meant to demonstrate an OS feature. Neither it nor its sample
programs are intended for use in a production environment. Rather, they are
intended for educational purposes and as a skeleton driver. <o:p></o:p></span></p>

<h3><span style='font-family:Verdana'>BUILDING THE SAMPLE<o:p></o:p></span></h3>

<p><span style='font-size:10.0pt;font-family:Verdana'>Click the Free Build
Environment or Checked Build Environment icon under Development Kits program
group to set basic environment variables. <o:p></o:p></span></p>

<p><span style='font-size:10.0pt;font-family:Verdana'>Change to the directory
containing the device source code, such as CD <span class=SpellE>Src\Wdf\nonpnp</span>.
<o:p></o:p></span></p>

<p><span style='font-size:10.0pt;font-family:Verdana'>Run <b>build -<span
class=SpellE>ceZ</span>,</b> or use the macro <b>BLD</b>. This command invokes
the Microsoft make routines to build the components. If the build </span>s<span
style='font-size:10.0pt;font-family:Verdana'>ucceeds, you will find the driver,
<span class=SpellE>nonpnp.sys</span>, and the test application, nonpnpapp.exe,
in the <cpu architecture> subdirectory of the %TARGETPATH% directory specified in the Sources
file. If it fails you can find errors and warnings in the <span class=SpellE>buildxxx.err</span>
and <span class=SpellE>buildxxx.err</span> respectively, where xxx is either <span
class=SpellE>chk</span> or <span class=SpellE>fre</span> depending on the build
environment. <o:p></o:p></span></p>

<h3><span style='font-family:Verdana'>TESTING<o:p></o:p></span></h3>

<p><span style='font-size:10.0pt;font-family:Verdana'>To test this driver, copy the nonpnp.inf into the
same folder as the nonpnpapp.exe and the wdfcoinstaller&lt;version&gt;.dll . Then run nonpnpapp.exe,
a simple Win32 multithreaded console mode application. The driver will be
automatically loaded and started. When you exit the app, the driver will be stopped
and removed.<o:p></o:p></span></p>

<p><span style='font-size:10.0pt;font-family:Verdana'>Usage<span class=GramE>:nonpnpapp.exe</span>
(-l) (-v version)<o:p></o:p></span></p>

<p><b><span style='font-size:10.0pt;font-family:Verdana'>Note</span></b><span
style='font-size:10.0pt;font-family:Verdana'>: This application first tries to
open the device (\Device\<span class=SpellE>FileIo</span>). If the device doesn’t
exist, it takes that as a hint as to the driver is not loaded and tries to load
the driver using service control manager API. If the service is loaded
successfully, it tries to open the device again. If successful, it makes all
four different types of <span class=SpellE>DeviceControl</span> calls to the driver.
After that it makes a <span class=SpellE>WriteFile</span> call with an
arbitrary size buffer. The driver, in response, writes that buffer to a file
opened in the Create request. The name of the file was provided by the
application as part of the device name and the directory path is hardcode to
%WINDIR%\temp. <span style='mso-spacerun:yes'> </span>When the <span
class=SpellE>WriteFile</span> returns, the application makes a <span
class=SpellE>ReadFile</span> call to read the file thru the driver, and then
compares the data returned by the driver with the one it originally wrote. If
you specify –l option in command line, the application does this Write and Read
operation in an infinite loop. The -v command line option is used to specify the 
version of the KMDF coinstaller (wdfcoinstaller&lt;version&gt;.dll) to load. If none is
 specified then it loads the coinstaller for v1.0(wdfcoinstaller01000.dll)<o:p></o:p></span></p>

<h4><span style='font-family:Verdana'>File Manifest<o:p></o:p></span></h4>

<pre><u>File<span style='mso-tab-count:2'>           </span>Description<o:p></o:p></u></pre><pre><o:p>&nbsp;</o:p></pre><pre><span
class=GramE>nonpnp.htm</span><span style='mso-tab-count:1'>     </span>Documentation for this sample (this file).</pre><pre><span
class=SpellE><span class=GramE>nonpnp.c</span></span><span style='mso-tab-count:
1'>       </span>Source file of the sample driver.</pre>
<pre><span
class=SpellE><span class=GramE>localwpp.ini</span></span><span style='mso-tab-count:
1'>   </span>File used for event tracing and dumping variable length data in the tracelog using HEXDUMP format.</pre>
<pre><span class=GramE>Sources<span
style='mso-tab-count:2'>        </span>Generic file that lists source files and all the build options.</span></pre><pre><span
class=SpellE>Testapp.c</span><span style='mso-tab-count:1'>      </span>Source <span
class=GramE>file</span> of the test application.</pre><pre><span class=SpellE>Install.c</span><span
style='mso-tab-count:1'>      </span>Contains functions to load/start/stop/remove the driver.</pre><pre><span
class=SpellE>Testapp.h</span><span style='mso-tab-count:1'>      </span>Header <span
class=GramE>file</span> for common definitions and function prototypes.</pre>
<pre><span
class=SpellE><span class=GramE>nonpnp.inf</span></span><span style='mso-tab-count:
1'>     </span>Inf file which contains the wdf section. The wdf section is used by the KMDF coinstaller to determine the
           KMDF library version being used by the nonpnp driver and to get the service name of the driver.</pre>
<pre><span
class=SpellE><span class=GramE>nonpnp.rc</span></span><span style='mso-tab-count:
1'>      </span>Resource file that specify information such as file type, version, etc.</pre>
<pre><span
class=SpellE>Makefile</span><span style='mso-tab-count:1'>       </span><span
class=GramE>This file</span> merely <span class=SpellE>indirects</span> to the real <span
class=SpellE>makefile</span> that is shared by all the driver components of the Windows NT DDK.</pre>

<h3><span style='font-family:Verdana'>WDF SECTION<o:p></o:p></span></h3>
<p><span style='font-size:10.0pt;font-family:Verdana'>Nonpnp drivers typically don't need an INF file to install. Since we are using framework interfaces, we have to use the Kmdf coinstaller to install the framework binaries on the target machine. The Kmdf coinstaller needs a WDF specific section in the INF to get the driver service name and the version of the Kmdf library the driver is bound to. The syntax and decription of the section is given below. Any non inf based driver using Kmdf library will need to have a dummy inf file with the wdf section in it.
The format of the Wdf section is given below:
<o:p></o:p></span></p>
[Version]<br>
Signature="$WINDOWS NT$"<br>
<br>
[&lt;driver name&gt;.NT.Wdf]<br>
KmdfService = &lt;your driver service name here&gt;, &lt;driver service install subsection&gt;<br>
<br>
[&lt;driver service install subsection&gt;]<br>
KmdfLibraryVersion =  &lt;version bound to here in Major.minor format&gt;For V1.0 this value is 1.0<br>




<p align=center style='text-align:center'><a href="#top"><span
style='font-size:10.0pt;font-family:Verdana'>Top of page</span></a><span
style='font-size:10.0pt;font-family:Verdana'> <o:p></o:p></span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width=624
 style='width:6.5in;mso-cellspacing:0in;mso-padding-alt:0in 5.4pt 0in 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes;
  height:1.5pt'>
  <td style='background:aqua;padding:.75pt .75pt .75pt .75pt;height:1.5pt'>
  <p class=MsoNormal><o:p>&nbsp;</o:p></p>
  </td>
 </tr>
</table>

<p><span style='font-size:7.5pt;font-family:"MS Sans Serif"'>© 1998 Microsoft
Corporation</span><span style='font-size:10.0pt;font-family:Verdana'> <o:p></o:p></span></p>

</div>

</body>

</html>

